<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>落地页</title>
	<link rel="stylesheet/less" type="text/css" href="./css/index_zx.less" />
	<link rel="stylesheet/less" type="text/css" href="./css/index.less" />
	<script src="//cdnjs.cloudflare.com/ajax/libs/less.js/3.11.1/less.min.js"></script>
	<style>

	</style>
</head>

<body>
	<header>
		<nav></nav>
	</header>
	<div id="animationOne" class="animationOne_zx">
		<div id="containerOne">
			<div id="words">
				<span class="title">建造者智能安全帽</span>
				<span class="dec">出色，必定与众不同</span>
			</div>
			<img src="./img/cat.png" id="imgDOM" />
			<video src="./video/cat.mp4" id="videoDOM" muted="muted"></video>
		</div>
	</div>
	<div id="animationTwo" class="animationTwo_zx">
		<div id="wordsOne">Hello.</div>
	</div>
	<!-- 产品介绍 -->
	<div class="ui_product_box">
		<!-- sos -->
		<div class="ui_content_box ui_sos_box">
			<div class="introduce sos_introduce">
				<h1 class="title">是安全帽，更是守护者</h1>
				<p class="txt">SOS一键呼救，快一秒拯救生命<br>危险区域电子围栏、安全帽脱落、坠落跌倒自动报警...<br>更全能的守护者，规避每一次意外</p>
			</div>
			<video class="video sosVideo" src="./video/sos.mp4" autoplay='autoplay' muted='muted'></video>
		</div>
		<!-- 心率 -->
		<div class="ui_content_box ui_heartRate_box">
			<div class="introduce heartRate_introduce">
				<h1 class="title">你的健康，它能感应</h1>
				<p class="txt">支持心电图检测，轻抬双手按住两侧心型按钮，一分钟<br>检查身体，降低高空作业风险，内置心率、体温等实时<br>传感器，健康情况了然于心</p><br>
			</div>
			<video class="video heartRateVideo" src="./video/sos.mp4" autoplay='autoplay' muted='muted'></video>
		</div>
		<!-- 芯片 -->
		<div class="ui_content_box ui_chip_box">
			<div class="introduce chip_introduce">
				<h1 class="title">用芯片，探索智慧海洋</h1>
				<p class="txt">重金研发高科技集成芯片，体积更轻盈，功能更集成。通过将人员行为数据化，<br>联动管理后台高效打造智慧工地</p>
			</div>
			<video class="video chipVideo" src="./video/sos.mp4" autoplay='autoplay' muted='muted'></video>
		</div>
		<!-- 高精度定位 -->
		<div class="ui_content_box ui_location_box">
			<div class="introduce location_introduce">
				<h1 class="title">20cm高精度定位，重新<br>定义智能考勤</h1>
				<p class="txt">
					UWB技术最有利的优势是误差极小，建造者智能安全<br>帽使用了全新研发的UWB+GPS定位算法，将智能考勤<br>控制在分米级，打破行业定位误差5-20m的常规</p>
			</div>
			<video class="video locationVideo" src="./video/sos.mp4" autoplay='autoplay' muted='muted'></video>
		</div>
		<!-- 电量 -->
		<div class="ui_content_box ui_battery_box">
			<div class="introduce battery_introduce">
				<h1 class="title">放肆用，超强电量告别焦虑</h1>
				<p class="txt">
					你的手机能撑多久？建造者智能安全帽可以续航6天。在考虑长续航的做法上，<br>采用低功耗通信模组+电池管理系统设计出的电池，轻巧、安全、可拆卸，更破<br>解了行业普遍续航4-6小时的困境，连一众老年机都甘拜下风
				</p>
				<p class="productTime battery_time">可续航6天，约<span class="time">144</span>小时</p>
			</div>
			<video class="video batteryVideo" src="./video/sos.mp4" autoplay='autoplay' muted='muted'></video>
		</div>
	</div>
	<!-- 耳机介绍 -->
	<div class="ui_content_box ui_ear_box">
		<div class="introduce ear_introduce">
			<h1 class="title">按它，接听世界的声音</h1>
			<p class="txt">一键群组对话和全新留言回听，不错过重要语音，外置<br>可调节软胶耳机，透气安全又适耳，清晰分辨环境音，<br>防患于未然</p>
		</div>
		<img src="./img/earImg.png" alt="">
	</div>
	<!-- <div id="simpleBg"></div> -->
	<!-- <div class="test"></div> -->
	<!-- 咨询 -->
	<div class="ui_consult_contact_box">
		<h1>美也实用，精益求精</h1>
		<h3>新客户获赠￥500元礼包</h3>
		<div class="ui_consult_contact_content">
			<div class="form_box">
				<div class="item">
					<span class="label"><span class="require">*</span>姓名：</span>
					<input type="text" placeholder="您的姓名">
				</div>
				<div class="item">
					<span class="label"><span class="require">*</span>手机：</span>
					<input type="text" placeholder="您的手机号">
				</div>
				<div class="item">
					<span class="label">订购数量：</span>
					<input type="text" value="1">
				</div>
				<button class='submit'>免费咨询</button>
				<p>*您的隐私将受严格保护</p>
			</div>
			<div class="contact_box">
				<div class="qrcode_box">
					<i></i>
					<i></i>
					<i></i>
					<i></i>
					<img src="./img/qrcode.png">
				</div>
				<span>扫一扫，立即与客服微信沟通</span>
			</div>
		</div>
	</div>
	<div class="ui_footer_box">
		<div class="ui_footer_centent">
			<ul>
				<li>
					<p>产品</p>
					<p>建筑内参</p>
					<p>天天云志</p>
					<p>智能安全帽</p>
					<p>智安汇</p>
				</li>
				<li>
					<p>应用场景</p>
					<p>工地</p>
					<p>铁路</p>
					<p>高空</p>
					<p>管道</p>
				</li>
				<li>
					<p>技术支持</p>
					<p>常见问题</p>
					<p>问题反馈</p>
					<p>联系我们</p>
				</li>
				<li>
					<p>关于我们</p>
					<p>在招职位</p>
					<p>合作渠道</p>
				</li>
				<li>
					<p>建造者</p>
				</li>
			</ul>
			<div class="copyright">成都大汇智安科技有限公司 ©2019-2024 蜀ICP备19018089号-1</div>
		</div>
	</div>
	<script type="text/javascript" src="./js/jquery.min.js"></script>
	<script type="text/javascript" defer="defer">
		//全局
		$(() => {
			setTimeout(() => {

				visibleWidth = $('#containerOne')[0].clientWidth;
				visibleHeight = $('#containerOne')[0].clientHeight;

				//动画一
				animationOneHeight = $('#animationOne')[0].clientHeight;
				heightDistanceOne = animationOneHeight - visibleHeight;

				//动画二
				animationTwoWordsHeight = animationTwoWordsDOM[0].clientHeight;


				scrollTop = getScrollTop();
				animationOne();
				animationTwo();
			}, 0)
		});
		window.addEventListener('scroll', (e) => {
			scrollTop = getScrollTop();
			animationOne();
			animationTwo();
			wordsOrOpacityAnimation();
		});

		//赵靖
		let content = document.getElementsByClassName('ui_content_box'); // 获取产品介绍DOM
        let winHeight = window.innerHeight; // 获取屏幕可视区域高度
        let intoOpa = 0; // 进入可视区域文案透明度初始值
        let leaveOpa = 1; // 离开可视区域文案透明度初始值
		// 改变内容透明度
		function setEleOpacity(contentDom) {
            let topHei = contentDom.getBoundingClientRect().top; // 动态获取DOM距离顶部的距离
            if (topHei > 0 && topHei <= winHeight) {
                // 判断产品介绍节点进入可视区域时，设置样式opacity:0-1
                intoOpa = (((winHeight - topHei) / winHeight) * 1.5).toFixed(2);
                if (intoOpa > 1) {
                    intoOpa = 1;
                }
                contentDom.style.opacity = intoOpa;
            } else if (topHei < 0 && Math.abs(topHei) <= winHeight) {
                // 判断产品介绍节点离开可视区域时，设置样式opacity:1-0
                leaveOpa = 1 - (((winHeight - Math.abs(topHei)) / winHeight) * 1.5).toFixed(2);
                contentDom.style.opacity = Math.abs(leaveOpa);
            }
        }
		// 文字动效 - 移动
		function setTransFormY(type, titleDom, txtDom, timeDom) {
            if (type === 'add') {
                if (!titleDom.classList.contains('tyo_animate')) {
                    titleDom.classList.add('tyo_animate');
                }
                if (!txtDom.classList.contains('tyo_animate')) {
                    txtDom.classList.add('tyo_animate');
                }
                if (timeDom && !timeDom.classList.contains('tyo_animate')) {
                    timeDom.classList.add('tyo_animate');
                }
            } else if (type === 'remove') {
                if (titleDom.classList.contains('tyo_animate')) {
                    titleDom.classList.remove('tyo_animate');
                }
                if (txtDom.classList.contains('tyo_animate')) {
                    txtDom.classList.remove('tyo_animate');
                }
                if (timeDom && timeDom.classList.contains('tyo_animate')) {
                    timeDom.classList.remove('tyo_animate');
                }
            }
        }
		// 产品介绍
		// 文字上移和透明度动画
        function wordsOrOpacityAnimation() {
            // 设置透明度、文字移动
            for (let i = 0; i < content.length; i++) {
                const item = content[i];
                console.log(item);
                let topHei = item.getBoundingClientRect().top; // 动态获取DOM距离顶部的距离
                let title = item.getElementsByClassName('title')[0]; // 获取标题文字节点
                let txt = item.getElementsByClassName('txt')[0]; // 获取介绍文字节点
                let productTime = item.getElementsByClassName('productTime')[0]; // 获取介绍文字节点
                // 判断在产品介绍进入屏幕可视范围之内执行
                if (topHei <= winHeight && topHei > 0) {
                    setEleOpacity(item);
                }
                // 设置文字移动
                let titleTopHei = title.getBoundingClientRect().top // 获取文字距离顶部高度
                if (titleTopHei <= winHeight && titleTopHei > 0) {
                    setTransFormY('add', title, txt, productTime);
                } else if (titleTopHei > winHeight) {
                    setTransFormY('remove', title, txt, productTime);
                }
            }
        }

		//周鑫
		let scrollTop = null;
		let visibleWidth, visibleHeight;

		//动画一
		let imgDOM = $("#imgDOM");
		let wordsDOM = $("#words");
		let videoDOM = $('#videoDOM');
		let animationOneStatus = true;
		let animationOneHeight, heightDistanceOne;

		//动画二
		let animationTwoWordsDOM = $('#wordsOne');
		let animationTwoStatusOne = true;
		let animationTwoStatusTwo = true;
		let animationTwoTop, animationTwoWordsHeight;

		//动画一
		function animationOne() {
			if (scrollTop >= 0 && scrollTop <= heightDistanceOne * 0.7) {
				if (!animationOneStatus) {
					return;
				}
				imgDOM[0].style.transform = 'translate(-50%,-50%) scale(' + (10 - 0.1285 * scrollTop / heightDistanceOne * 100) + ')';
				wordsDOM[0].style.transform = 'translate(-50%,' + (-(13 + 0.3714 * scrollTop / heightDistanceOne * 100)) + 'vh)';
				// wordsDOM[0].style.color = rgb(255,255,255);
				wordsDOM[0].style.color = 'rgb(' + (255 - 3.6428 * scrollTop / heightDistanceOne * 100) + ',' + (255 - 3.6428 * scrollTop / heightDistanceOne * 100) + ',' + (255 - 3.6428 * scrollTop / heightDistanceOne * 100) + ')';
			}
			else {
				if (!animationOneStatus) {
					return;
				}
				animationOneStatus = false;
				imgDOM[0].style.transform = 'translate(-50%,-50%) scale(1)';
				wordsDOM[0].style.transform = 'translate(-50%,-39vh)';
				wordsDOM[0].style.color = 'rgb(0,0,0)';
				setTimeout(() => {
					videoDOM[0].style.opacity = 1;
					videoDOM[0].play();
				}, 800);
			}
		}

		//动画二
		function animationTwo() {
			animationTwoTop = animationTwoWordsDOM[0].getBoundingClientRect().top;
			// if(animationTwoTop<=visibleHeight){
			// 	if(Math.abs(animationTwoTop-visibleHeight)>animationTwoWordsHeight){
			// 		animationTwoWordsDOM[0].style.opacity = 1;
			// 	}
			// 	else {
			// 		animationTwoWordsDOM[0].style.opacity = 0.01*(Math.abs(animationTwoTop-visibleHeight)/animationTwoWordsHeight)*100;
			// 	}
			// }
			// else {
			// 	animationTwoWordsDOM[0].style.opacity = 0;
			// }
			if (animationTwoTop >= 0 && animationTwoTop <= visibleHeight) {

				if ((animationTwoTop / visibleHeight) <= 0.9 && (animationTwoTop / visibleHeight) >= 0.6) {
					if (!animationTwoStatusTwo) {
						return;
					}
					animationTwoWordsDOM[0].style.backgroundImage = 'linear-gradient(-45deg, rgb(0, 0, 0) ' + (100 - (600 - 6.66 * (animationTwoTop / visibleHeight * 100))) + '%, rgb(255, 255, 255) ' + (200 - (600 - 6.66 * (animationTwoTop / visibleHeight * 100))) + '%)';
				}

				if (animationTwoTop / visibleHeight < 0.5) {
					if (!animationTwoStatusOne) {
						return;
					}
					animationTwoStatusOne = false;
					animationTwoStatusTwo = false;
					let num = 0;
					let interval = null;
					interval = setInterval(() => {
						num += 2;
						if (num < 300) {
							animationTwoWordsDOM[0].style.backgroundImage = 'linear-gradient(-45deg, rgb(255, 255, 255) ' + (100 - num) + '%, #FF2323 ' + (200 - num) + '%, #F7B500 ' + (300 - num) + '%)';
						}
						else if (num >= 300 && num <= 700) {
							animationTwoWordsDOM[0].style.backgroundImage = 'linear-gradient(150deg, #F7B500 ' + (400 - num) + '%, #0E6FFF ' + (500 - num) + '%, #C200F7 ' + (600 - num) + '%, #ffffff ' + (700 - num) + '%)';
						}
						else {
							clearInterval(interval);
							animationTwoStatusTwo = true;
						}
					}, 10);
				}
			}
		}

		//获取滚动条高度
		function getScrollTop() {
			let scrollTop = 0;
			if (document.documentElement && document.documentElement.scrollTop) {
				scrollTop = document.documentElement.scrollTop;
			} else if (document.body) {
				scrollTop = document.body.scrollTop;
			}
			return scrollTop;
		}
	</script>
</body>

</html>